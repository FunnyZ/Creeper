# 代码review规范

## review流程

1. 确定review范围
2. 确定review参与人员
3. 提前互相看代码
4. 再gitlab中将需要review的分支向code-review分支发起合并请求
5. 对照以下检查项一起review
6. 未通过项打回修改（记录在TAPD对应review任务下）
7. 修改完成后，又本次review负责人确认修改状况。
8. 修改通过后，由负责人在gitlab中合并代码到code-review分支中去
9. 完成review流程。

## 功能检查项：

1、是否牵涉到了增加菜单项

检查是否添加了meta.menuName(为了操作记录功能正常)

2、代码lint检查

是否有ESLint检查出的问题。

3、需求设计规范是否满足？

[需求规范](https://www.tapd.cn/51149210/markdown_wikis/show/#1151149210001005118)：不满足时，要和产品确认后进行修改(这期/下期，原则上不允许再向下拖延)。

4、是否添加了新的第三方包？

1. 这个第三方包是必须的嘛？
2. 是否已经引用过相同功能的包？
3. 引用的第三方包，修改过readme了吗？

5、主要库版本升级

查看引用包版本变化，确定是否有升级必要。

## 代码检查项：

1、页面规范：

1. 详情页一定是单独页面
2. 批量操作按钮为弹窗询问
3. 单条操作为pop弹出类二次确定
4. 页面文件以小驼峰命名。

2、组件拆分规范：

1. 有无超过500行组件（不包括样式）
2. 业务拆分是否遵守了单一职责的原则

3、公共组件规范：

1. 公共组件说明文档是否完成(有无错漏)
2. form类型组件必定包括value、input事件、change事件(只单个输出)
3. 非form组件输入不允许使用value和input事件(语义化输入输出)
4. 如果公共组件只在一处被使用、应当重复考虑是否有过度封装的问题
5. 公共组件中不应当依赖任何接口、不耦合任何业务。
6. 组件命名以大驼峰式命名。

4、业务组件规范：
1. 业务组件说明文档是否完成(有无错漏)
2. form类型组件必定包括value、input事件、change事件(只单个输出)
3. 非form组件输入不允许使用value和input事件(语义化输入输出)
4. 如果公共组件只在一处被使用、应当重复考虑是否有过度封装的问题
5. 业务组件中不当依赖相关接口、包含单一业务。
6. 组件命名以大驼峰式命名。

5、样式规范：
1. 所有style标签都应当为 scss scope类型
2. 类名应当用横杠连接(表示状态可用双下划线__连接状态)
3. 类名应当全小写
4. CSS颜色等重要数据应当使用css变量

6、注释规范：
1. 所有公共方法应当包含jsdoc注释。
2. 接口请求中有接口文档的都应当添加@see标记，注明文档位置。
3. 注释遵循简洁明了，不宜长篇大论。

7、命名规范：
1. 组件命名以大驼峰命名、页面文件以小驼峰命名
2. 变量命名遵循小驼峰方式。
3. 常量申明使用全大写以下划线_连接单词
4. 函数命名使用小驼峰命名
